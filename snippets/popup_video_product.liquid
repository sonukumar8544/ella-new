<!-- popup_video_product -->
<!-- popup_video_product -->
<div class="video_popup_init popup_{{ video.id }}" id="modal-{{ video.id }}">
  <div class="video_popup">
    <button
      type="button"
      class="halo-sidebar-close button-effect"
      data-close-cart-sidebar=""
      aria-label="Close"
    >
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
        <path d="M 38.98 6.97 A 2 2 0 0 0 37.58 7.58 L 24 21.17 10.41 7.58 A 2 2 0 0 0 8.98 6.98 A 2 2 0 0 0 7.58 10.41 L 21.17 24 7.58 37.59 A 2 2 0 1 0 10.41 40.41 L 24 26.83 37.59 40.41 A 2 2 0 1 0 40.41 37.59 L 26.83 24 40.41 10.41 A 2 2 0 0 0 38.98 6.97 z"></path>
      </svg>
    </button>

    <div class="video_popup_grid">
      <video autoplay loop playsinline controls style="width: 100%; height: auto;">
        <source src="{{ video.settings.video }}" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>

    {% if featured_product %}
      <div class="video_popup_grid">
        <div class="card-content" data-product-id="{{ featured_product.id }}">
          <a href="{{ featured_product.url }}" title="{{ featured_product.title }}">
            <img
              class="product-img lazyload"
              data-src="{{ featured_product.featured_image | img_url: '500x' }}"
              src="{{ featured_product.featured_image | img_url: '100x' }}"
              alt="{{ featured_product.title }}"
              width="100%"
              height="100%"
              style="width: auto; height: auto;"
            >
          </a>
          <div class="product-title-new">
            <p class="product-title">{{ featured_product.title }}</p>
            <p class="product-price">{{ featured_product.price | money_with_currency }}</p>
          </div>
          <button class="shop-button">Add To Cart</button>
        </div>
      </div>
    {% endif %}
  </div>
</div>

<style>
  /* Container Styling */
  .popup_{{ video.id }} {
    display: none;
    position: fixed;
    z-index: 999999;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    backdrop-filter: blur(15px);
    background: rgba(25, 25, 25, 0.51);
  }

  /* Popup Box */
  .popup_{{ video.id }} .video_popup {
    width: 600px;
    background: #fff;
    margin: auto;
    padding: 20px;
    border-radius: 12px;
    position: fixed;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    align-items: flex-start;
    justify-content: center;
    gap: 15px;
  }

  /* Grid Columns */
  .popup_{{ video.id }} .video_popup_grid {
    width: 50%;
  }

  /* Close Button */
  .popup_{{ video.id }} .halo-sidebar-close {
    border-radius: 50%;
    position: absolute;
    right: -12px;
    top: -9px;
    background: #000;
  }

  .popup_{{ video.id }} .halo-sidebar-close svg {
    fill: #fff;
  }

  /* Product Styling */
  .popup_{{ video.id }} .card-content {
    padding: 8px 8px 20px 8px;
    border: 1px solid #c1c1c1;
  }

  .popup_{{ video.id }} .product-title-new {
    text-align: center;
  }

  .popup_{{ video.id }} .product-title-new .product-title {
    color: #086b92;
    margin: 15px 0 8px;
    font-size: 16px;
    line-height: 1.5;
  }

  .popup_{{ video.id }} .product-title-new .product-price {
    font-size: 15px;
    color: rgb(233, 81, 68);
    font-weight: bold;
    margin-bottom: 10px;
    letter-spacing: 1.2px;
  }

  .popup_{{ video.id }} .shop-button {
    font-size: 14px;
    background-color: #086b92;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    text-transform: uppercase;
    width: 100%;
  }

  .popup_{{ video.id }} .shop-button:hover {
    background: transparent;
    border: 2px solid #086b92;
    color: #086b92;
    font-weight: bold;
  }
</style>
