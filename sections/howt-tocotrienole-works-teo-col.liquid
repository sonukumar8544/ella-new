<div id="shopify-section-{{ section.id }}">
  <!-- Content Blocks -->
  {% for block in section.blocks %}
    <div class="annatto-content-section" {{ block.shopify_attributes }} {% if block.settings.block_background_color != blank %}style="background-color: {{ block.settings.block_background_color }};"{% endif %}>
      <div class="annatto-content-wrapper {% if block.settings.image_position == 'right' %}annatto-image-right{% else %}annatto-image-left{% endif %}">
        {% if block.settings.image_position == 'left' %}
          <div class="annatto-image-column">
            {% if block.settings.block_image != blank %}
              <img
                src="{{ block.settings.block_image | image_url: width: 800 }}"
                alt="{{ block.settings.block_image.alt | escape }}"
                class="annatto-content-image"
                width="800"
                height="600"
                loading="lazy" />
            {% endif %}
          </div>
        {% endif %}
        <div class="annatto-text-column">
          {% if block.settings.block_title != blank %}
            <h2 class="annatto-content-title">{{ block.settings.block_title }}</h2>
          {% endif %}
          
          <div class="annatto-paragraphs-wrapper">
            {% if block.settings.paragraph_1 != blank %}
              <p class="annatto-content-paragraph {% if block.settings.paragraph_1_italic %}annatto-italic{% endif %}">{{ block.settings.paragraph_1 }}</p>
            {% endif %}
            {% if block.settings.paragraph_2 != blank %}
              <p class="annatto-content-paragraph {% if block.settings.paragraph_2_italic %}annatto-italic{% endif %}{% if block.settings.paragraph_2_bg_enable %} annatto-paragraph-bg{% endif %}" {% if block.settings.paragraph_2_bg_enable and block.settings.paragraph_bg_color != blank %}style="background-color: {{ block.settings.paragraph_bg_color }}; padding: 15px 20px; border-radius: 4px;"{% endif %}>{{ block.settings.paragraph_2 }}</p>
            {% endif %}
            {% if block.settings.paragraph_3 != blank %}
              <p class="annatto-content-paragraph {% if block.settings.paragraph_3_italic %}annatto-italic{% endif %}{% if block.settings.paragraph_3_bg_enable %} annatto-paragraph-bg{% endif %}" {% if block.settings.paragraph_3_bg_enable and block.settings.paragraph_bg_color != blank %}style="background-color: {{ block.settings.paragraph_bg_color }}; padding: 15px 20px; border-radius: 4px;"{% endif %}>{{ block.settings.paragraph_3 }}</p>
            {% endif %}
            {% if block.settings.paragraph_4 != blank %}
              <p class="annatto-content-paragraph {% if block.settings.paragraph_4_italic %}annatto-italic{% endif %}">{{ block.settings.paragraph_4 }}</p>
            {% endif %}
          </div>

          {% if block.settings.button_text != blank %}
            <div class="annatto-button-wrapper">
              <a href="{{ block.settings.button_link | default: '#' }}" class="annatto-content-button">
                {{ block.settings.button_text }}
              </a>
            </div>
          {% endif %}
        </div>
        {% if block.settings.image_position == 'right' %}
          <div class="annatto-image-column">
            {% if block.settings.block_image != blank %}
              <img
                src="{{ block.settings.block_image | image_url: width: 800 }}"
                alt="{{ block.settings.block_image.alt | escape }}"
                class="annatto-content-image"
                width="800"
                height="600"
                loading="lazy" />
            {% endif %}
          </div>
        {% endif %}
      </div>
    </div>
  {% endfor %}
</div>

<style>
  /* Full Section Background */
  #shopify-section-{{ section.id }} {
    {% if section.settings.apply_background_gradient %}
    background: linear-gradient(
      180deg,
      #ffd56b 0%,
      #fcebbe 30%,
      #FFFFFF 100%
    );
    {% elsif section.settings.section_background_color != blank %}
    background: {{ section.settings.section_background_color }};
    {% else %}
    background: #ffffff;
    {% endif %}
    width: 100%;
    padding-top: {{ section.settings.desktop_padding_top }}px;
    padding-bottom: {{ section.settings.desktop_padding_bottom }}px;
    position: relative;
  }

  /* Content Sections */
  #shopify-section-{{ section.id }} .annatto-content-section {
    background-color: transparent;
    padding: 80px 20px;
    position: relative;
    z-index: 1;
  }

  #shopify-section-{{ section.id }} .annatto-content-wrapper {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 80px;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }

  #shopify-section-{{ section.id }} .annatto-text-column {
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  #shopify-section-{{ section.id }} .annatto-content-title {
    font-size: 36px;
    font-weight: 700;
    color: #374650;
    margin: 0 0 30px;
    line-height: 1.3;
  }

  #shopify-section-{{ section.id }} .annatto-paragraphs-wrapper {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  #shopify-section-{{ section.id }} .annatto-content-paragraph {
    font-size: 15px;
    line-height: 1.7;
    color: #374650;
    margin: 0;
  }

  #shopify-section-{{ section.id }} .annatto-content-paragraph.annatto-italic {
    font-style: italic;
  }

  #shopify-section-{{ section.id }} .annatto-content-paragraph.annatto-paragraph-bg {
    display: block;
  }

  #shopify-section-{{ section.id }} .annatto-button-wrapper {
    margin-top: 35px;
  }

  #shopify-section-{{ section.id }} .annatto-content-button {
    display: inline-block;
    padding: 16px 36px;
    background-color: #086B92;
    color: #ffffff;
    text-decoration: none;
    border-radius: 30px;
    font-size: 16px;
    font-weight: 600;
    transition: background-color 0.3s ease;
    border: none;
    cursor: pointer;
  }

  /* #shopify-section-{{ section.id }} .annatto-content-button:hover {
    background-color: white;
    color: #086B92;
    border: 1px solid #086B92;
    transition: all 0.3s ease;
  } */

  #shopify-section-{{ section.id }} .annatto-image-column {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  #shopify-section-{{ section.id }} .annatto-content-image {
    width: 100%;
    height: auto;
    border-radius: 0;
    object-fit: cover;
  }

  /* Image position classes */
  #shopify-section-{{ section.id }} .annatto-image-right .annatto-image-column {
    order: 2;
  }
  #shopify-section-{{ section.id }} .annatto-image-right .annatto-text-column {
    order: 1;
  }
  #shopify-section-{{ section.id }} .annatto-image-left .annatto-image-column {
    order: 1;
  }
  #shopify-section-{{ section.id }} .annatto-image-left .annatto-text-column {
    order: 2;
  }

  /* Tablet Responsive */
  @media (max-width: 968px) {
    #shopify-section-{{ section.id }} .annatto-content-section {
      padding: 60px 20px;
    }
    #shopify-section-{{ section.id }} .annatto-content-wrapper {
      gap: 50px;
      padding: 0 15px;
    }
    #shopify-section-{{ section.id }} .annatto-content-title {
      font-size: 32px;
      margin-bottom: 25px;
    }
    #shopify-section-{{ section.id }} .annatto-content-paragraph {
      font-size: 15px;
    }
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    #shopify-section-{{ section.id }} {
      padding-top: {{ section.settings.mobile_padding_top }}px;
      padding-bottom: {{ section.settings.mobile_padding_bottom }}px;
    }
    #shopify-section-{{ section.id }} .annatto-content-section {
      padding: 50px 20px;
    }
    #shopify-section-{{ section.id }} .annatto-content-wrapper {
      grid-template-columns: 1fr;
      gap: 40px;
      padding: 0;
    }
    /* Reset order on mobile - image always comes first */
    #shopify-section-{{ section.id }} .annatto-image-column {
      order: 1 !important;
    }
    #shopify-section-{{ section.id }} .annatto-text-column {
      order: 2 !important;
    }
    #shopify-section-{{ section.id }} .annatto-content-title {
      font-size: 28px;
      margin-bottom: 20px;
    }
    #shopify-section-{{ section.id }} .annatto-content-paragraph {
      font-size: 15px;
    }
    #shopify-section-{{ section.id }} .annatto-paragraphs-wrapper {
      gap: 18px;
    }
    #shopify-section-{{ section.id }} .annatto-button-wrapper {
      margin-top: 30px;
    }
    #shopify-section-{{ section.id }} .annatto-content-button {
      padding: 14px 32px;
      font-size: 15px;
      width: 100%;
      text-align: center;
    }
  }

  /* Small Mobile */
  @media (max-width: 480px) {
    #shopify-section-{{ section.id }} .annatto-content-section {
      padding: 40px 15px;
    }
    #shopify-section-{{ section.id }} .annatto-content-title {
      font-size: 24px;
      margin-bottom: 18px;
    }
    #shopify-section-{{ section.id }} .annatto-content-paragraph {
      font-size: 15px;
    }
    #shopify-section-{{ section.id }} .annatto-paragraphs-wrapper {
      gap: 15px;
    }
    #shopify-section-{{ section.id }} .annatto-content-button {
      padding: 12px 28px;
      font-size: 14px;
    }
  }
</style>

{% schema %}
{
  "name": "Two col bow toco works",
  "settings": [
    {
      "type": "checkbox",
      "id": "apply_background_gradient",
      "label": "Apply Background Gradient",
      "default": false
    },
    {
      "type": "color",
      "id": "section_background_color",
      "label": "Section Background Color",
      "info": "Applied when gradient is disabled",
      "default": "#ffffff"
    },
    {
      "type": "header",
      "content": "Desktop Padding"
    },
    {
      "type": "range",
      "id": "desktop_padding_top",
      "label": "Desktop Padding Top",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_padding_bottom",
      "label": "Desktop Padding Bottom",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Mobile Padding"
    },
    {
      "type": "range",
      "id": "mobile_padding_top",
      "label": "Mobile Padding Top",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_padding_bottom",
      "label": "Mobile Padding Bottom",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "content_block",
      "name": "Content Block",
      "settings": [
        {
          "type": "text",
          "id": "block_title",
          "label": "Block Title",
          "default": "Tocotrienols Reach Where Others Can't"
        },
        {
          "type": "textarea",
          "id": "paragraph_1",
          "label": "Paragraph 1",
          "default": "Tocotrienols are built differently. Their unsaturated side chain lets them slip deep into cell membranes - like a key fitting perfectly into a lock. This unique structure means they don't just float around your bloodstream; they embed where oxidative stress does the most damage."
        },
        {
          "type": "checkbox",
          "id": "paragraph_1_italic",
          "label": "Make Paragraph 1 Italic",
          "default": false
        },
        {
          "type": "textarea",
          "id": "paragraph_2",
          "label": "Paragraph 2",
          "default": "By contrast, tocopherols (the common Vitamin E in most supplements) remain on the surface, offering limited protection where it matters least."
        },
        {
          "type": "checkbox",
          "id": "paragraph_2_italic",
          "label": "Make Paragraph 2 Italic",
          "default": true
        },
        {
          "type": "checkbox",
          "id": "paragraph_2_bg_enable",
          "label": "Add Background Color to Paragraph 2",
          "default": false
        },
        {
          "type": "textarea",
          "id": "paragraph_3",
          "label": "Paragraph 3",
          "default": "That's why tocotrienols can deliver protection at the very core of your cells - something regular Vitamin E simply can't do."
        },
        {
          "type": "checkbox",
          "id": "paragraph_3_italic",
          "label": "Make Paragraph 3 Italic",
          "default": false
        },
        {
          "type": "checkbox",
          "id": "paragraph_3_bg_enable",
          "label": "Add Background Color to Paragraph 3",
          "default": false
        },
        {
          "type": "textarea",
          "id": "paragraph_4",
          "label": "Paragraph 4"
        },
        {
          "type": "checkbox",
          "id": "paragraph_4_italic",
          "label": "Make Paragraph 4 Italic",
          "default": false
        },
        {
          "type": "image_picker",
          "id": "block_image",
          "label": "Block Image"
        },
        {
          "type": "select",
          "id": "image_position",
          "label": "Image Position",
          "options": [
            {
              "value": "left",
              "label": "Left"
            },
            {
              "value": "right",
              "label": "Right"
            }
          ],
          "default": "right"
        },
        {
          "type": "header",
          "content": "Block Background"
        },
        {
          "type": "color",
          "id": "block_background_color",
          "label": "Block Background Color",
          "info": "Background color for the entire block"
        },
        {
          "type": "header",
          "content": "Paragraph Background Color"
        },
        {
          "type": "color",
          "id": "paragraph_bg_color",
          "label": "Paragraph Background Color",
          "info": "Color for paragraphs 2 and 3 when enabled"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Two col bow toco",
      "blocks": [
        {
          "type": "content_block",
          "settings": {
            "block_title": "Tocotrienols Reach Where Others Can't",
            "paragraph_1": "Tocotrienols are built differently. Their unsaturated side chain lets them slip deep into cell membranes - like a key fitting perfectly into a lock. This unique structure means they don't just float around your bloodstream; they embed where oxidative stress does the most damage.",
            "paragraph_1_italic": false,
            "paragraph_2": "By contrast, tocopherols (the common Vitamin E in most supplements) remain on the surface, offering limited protection where it matters least.",
            "paragraph_2_italic": true,
            "paragraph_2_bg_enable": true,
            "paragraph_3": "That's why tocotrienols can deliver protection at the very core of your cells - something regular Vitamin E simply can't do.",
            "paragraph_3_italic": false,
            "paragraph_3_bg_enable": true,
            "paragraph_bg_color": "#f5f5f5",
            "image_position": "right"
          }
        },
        {
          "type": "content_block",
          "settings": {
            "block_title": "Stronger Defense Against Oxidative Stress",
            "paragraph_1": "Free radicals are unstable molecules that damage cells, accelerating aging and contributing to chronic disease. Tocotrienols neutralize these threats more efficiently than traditional antioxidants.",
            "paragraph_1_italic": false,
            "paragraph_2": "Their unique ability to penetrate cell membranes means they can intercept free radicals at the source - before they cause widespread cellular damage.",
            "paragraph_2_italic": false,
            "button_text": "Protect Your Cells with Tocotrienols",
            "button_link": "#",
            "image_position": "left"
          }
        }
      ]
    }
  ]
}
{% endschema %}
