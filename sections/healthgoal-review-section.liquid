{% schema %}
  {
    "name": "healthgoal review",
    "settings": [],
    "presets": [
      {
        "name": "healthgoal review"
      }
    ]
  }
{% endschema %}


{% comment %} <img height="" width="" src="{{ parts[0] | strip }}" alt=""> {% endcomment %}

<h2 class="testimonial-heading">What Our Customers Say</h2>
<section class="testimonial-section">
  <div class="testimonial-slider">
    {% for block in collection.metafields.custom.collection_review_image_url.value %}
      {% assign parts = block | split: '|' %}
      <div class="testimonial-img-slide">
        <div class="review-card">
          <img height="" width="" title="" class="lazyload" data-src="{{ parts[0] | strip }}" alt="{{ parts[1] | strip }}">
          <div class="stars">★★★★★</div>
          <h3 class="review-title">{{ parts[1] | strip }}</h3>
          <p class="review-text">
           {{ parts[2] | strip }}
          </p>
          <p class="review-author">{{ parts[3] | strip }}</p>
        </div>
      </div>
    {% endfor %}

  </div>
  <!-- Fixed Final Slide -->
  <div class="testimonial-fixed-slide">
    <img
      height=""
      width=""
      title=""
      class="lazyload"
      data-src="https://cdn.shopify.com/s/files/1/0735/8172/3944/files/Frame_2_2c500fce-62d9-4381-ba3c-bec435fc331c.png?v=1751204474"
      alt="testomonial-review">
  </div>
</section>


<style>
.review-card {
  max-width: 350px;
  padding: 50px 20px;
  border-radius: 25px;
  background-color: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  color: #333;
  border: .5px solid black;
  position: relative;
  margin-top: 10px;
  height: 430px;
}

.review-card img {
    position: absolute;
    width: 40px;
    height: 40px;
    top: -20px;
    left: 50%;
    transform: translateX(-50%);
}

.stars {
  color: #f59e0b; /* Amber-500 from Tailwind */
  font-size: 22px;
  margin-bottom: 10px;
}
.testimonial-img-slide{
  text-align: left;
}


.review-title {
  font-weight: bold;
  font-size: 18px;
  margin-bottom: 10px;
}

.review-text {
  font-size: 15px;
  line-height: 1.6;
  margin-bottom: 15px;
}

.review-author {
  font-weight: bold;
  font-size: 14px;
  color: #111;
}






  .testimonial-section {
    padding: 40px 20px;
    text-align: center;
    background-color: #fff;
    display: flex;
    gap: 20px;
    justify-content: center;
  }

  .testimonial-heading {
    font-size: 35px;
    color: #086b92;
    text-align: center;
    margin-bottom: 20px;
  }

  .testimonial-slider {
    width: 70%;
    display: flex;
    gap: 20px;
  }

  /* Slick Slide Styling */
 

  /* Fixed Slide */
  .testimonial-fixed-slide {
    padding: 20px;
    width: 24%;
  }

  .testimonial-fixed-slide img {
    width: 100%;
    height: 100%;
  }


  /* Slick fix */
  .slick-slide {
    padding: 10px;
  }

  @media (max-width: 769px) {
    .testimonial-heading {
      font-size: 26px;
      margin-bottom: 0;
    }

    .testimonial-section {
      flex-direction: column;
    }

    .testimonial-slider {
      width: 100%;
    }

    .testimonial-fixed-slide {
      padding: 0;
      width: 100%;
    }

    .testimonial-section .slick-arrow.slick-next {
      right: -15px !important;
    }

    .testimonial-section .slick-arrow.slick-prev {
      left: -15px !important;
    }
  }

  .testimonial-section .slick-arrow.slick-next {
    right: -30px;
  }

  .testimonial-section .slick-arrow.slick-prev {
    left: -30px;
  }
</style>

<script>
        $(document).ready(function(){
        $('.testimonial-slider').slick({
          slidesToShow: 3,
          slidesToScroll: 1,
          infinite: true,
          prevArrow: `<button type="button" class="slick-prev slick-arrow" aria-label="Previous" role="button">
          <svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24"><path d="M 7.75 1.34375 L 6.25 2.65625 L 14.65625 12 L 6.25 21.34375 L 7.75 22.65625 L 16.75 12.65625 L 17.34375 12 L 16.75 11.34375 Z"></path></svg>
          </button>`,
          nextArrow: `<button type="button" class="slick-next slick-arrow" aria-label="Next" role="button" style=""><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M 7.75 1.34375 L 6.25 2.65625 L 14.65625 12 L 6.25 21.34375 L 7.75 22.65625 L 16.75 12.65625 L 17.34375 12 L 16.75 11.34375 Z"></path></svg></button>`,
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 2
              }
            },
            {
              breakpoint: 768,
              settings: {
                slidesToShow: 1
              }
            }
          ]
        });
        });
</script>