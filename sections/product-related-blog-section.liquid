{% schema %}
  {
    "name": "related blog product",
    "settings": [],
    "presets": [
      {
        "name": "related blog product"
      }
    ]
  }
{% endschema %}

<style>
  .product-related-blog-container {
    background-color: #f8f8f8;
    padding: 50px 0;
  }

  .product-related-blog-grid-customm {
    background-color: #f8f8f8;
  }

  .product-related-blog-card {
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    margin: 10px;
  }

  .related-blogproduct-image {
    width: 100%;
    height: 250px;
    object-fit: cover;
    transition: transform 0.5s ease;
    cursor: pointer;
  }

  .product-related-blog-card:hover .related-blogproduct-image {
    transform: scale(1.05);
  }

  .product-related-blog-card-link {
    display: inline-flex;
    align-items: center;
    color: #086b92;
    font-size: 16px;
    font-weight: 700;
  }

  .product-related-blog-card-link:hover {
    cursor: pointer;
    color: #086b92;
  }

  .product-related-blog-image {
    padding: 16px;
  }

  .productproduct-related-blog-card-title {
    font-size: 20px;
    margin-bottom: 8px;
    cursor: pointer;
    font-weight: 600;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }


  /*
   .productproproduct-related-blog-card-description { 
   color: #36454f; 
   font-size: 16px; 
   Fixed typo: was "fibt-size" 
   margin-bottom: 12px; 
   }
*/

  .productproproduct-related-blog-card-description {
    color: #36454f;
    font-size: 16px;
    margin-bottom: 12px;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
    font-weight: 400;
  }
  .icon-arrow-right {
    width: 15px;
  }

  .product-related-blog-title {
    text-align: center;
    font-size: 32px;
  }

  .slick-arrow svg {
    color: green !important
  }

  @media (max-width: 1024px) {
    .product-related-blog-title {
      font-size: 22px;
    }
  }
</style>

{% if product.metafields.custom.we_product_page_custom_blog.value %}
<div class="product-related-blog-container">
  <h2 class="product-related-blog-title">Related Blog...</h2>
  <div class="container product-related-blog-grid-customm">
    {% for block in product.metafields.custom.we_product_page_custom_blog.value %}
      {% assign parts = block | split: '|' %}
      <div class="product-related-blog-card">
        <img
          src="{{ parts[0] | strip }}"
          alt="Product Image"
          class="related-blogproduct-image"
          height="master"
          ,
          width="master" />
        <div class="product-related-blog-image">
          <a href="{{ parts[3] | strip }}">
            <h2 class="productproduct-related-blog-card-title">{{ parts[1] | strip }}</h2>
          </a>
          <p class="productproproduct-related-blog-card-description">{{ parts[2] | strip }}</p>
          <a href="{{ parts[3] | strip }}" class="product-related-blog-card-link">Read More</a>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endif %}

<script>
      $(document).ready(function(){
        $('.product-related-blog-grid-customm').slick({
          slidesToShow: 3,
          slidesToScroll: 1,
          dots: true,
          arrows: false,
          responsive: [
            {
              breakpoint: 1024,
              settings: {
                slidesToShow: 2
              }
            },
            {
              breakpoint: 640,
              settings: {
                slidesToShow: 1
              }
            }
          ]
        });
      });
</script>